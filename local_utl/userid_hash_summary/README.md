# UserID Hash Summary

本工具用于读取 `.PASSWDS` 中的用户 ID，调用 `ythtbbs_cache_hash_userid` 函数，计算并统计散列结果分布，从而判断当前的缓存管理算法是否需要改进。

## 使用方法

在包含 `.PASSWDS` 的文件夹中执行：

```bash
/path/to/userid_hash_summary > /path/to/save/hash/report.txt
```

## 小结
当前 BMYBBS 总共 45.6k 账号，散列到 26\*26=676 个空间，每个空间包含的 ID 个数分布如下：

| counts per slot | 40~50 | 50~60 | 60~70 | 70~80 | 80~90 | 90~100 | 100~110 | 110~120 |
| :-------------: | :---: | :---: | :---: | :---: | :---: | :----: | :-----: | :-----: |
| slots           |   12  |  138  |  261  |  201  |   41  |   16   |    5    |    2    |

可以看出大多数的空间包含的 ID 个数在 50~90 之间。用于存放 ID
 的散列表大约占据 3MB 内存，给每组空间分配的大小是 295 个 ID。内存空间使用、算法效率和复杂度均可接受，因此暂时不需要换用更复杂的算法。

